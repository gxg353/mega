{% extends "resource_base.html" %}
{% block subcontent %}
<form action="/resource/server_add/" method="get">
	<button type="submit" class="btn btn-default btn">
  		<span class="glyphicon glyphicon-plus"></span> 添加
	</button>
	{% csrf_token %}
</form>
<br>
<form class="navbar-form navbar-left" role="search" action="/resource/server/" method='POST'>
  <div class="form-group">
    <input name='ip' type="text" class="form-control" placeholder="Search...">
  </div>
  <button type="submit" class="btn btn-default"><span class="glyphicon glyphicon-search"></span></button>
	{% csrf_token %}

</form>
<br>
<div class="table-responsive">
  <table class="table table-striped">
    <thead>
      <tr>
      	<th>NAME</th>
        <th>IP</th>
        <th>OS</th>
        <th>OWNER</th>
        <th>ONLINE</th>
        <th>STAT</th>
      </tr>
    </thead>
    <tbody>
       {% for server in server_list %}
	     <tr>
	     	<td><a href="/resource/server_detail/?server_id={{ server.id }}">{{ server.name }}</a></td>
			<td><a href="/resource/server_detail/?server_ip={{ server.ip }}">{{ server.ip }}</a></td>
			<td> {{ server.os }} </td>
			<td><a href="/resource/user_detail/?user_id={{ server.owner }}">{{ server.owner_name }}</a></td>
			<td>{{ server.online_date }}</td>
			<td> 
			{% ifequal server.stat 1 %} 
				<span style="color:green">Online</span>
			{% else %}
				<span style="color:red">Offline</span>
			{% endifequal %}
						
			</td>
         </tr>
	   {% endfor %}
     </tbody>
  </table>
</div>
<ul class="pagination">
  <li><a href="?page=1">&laquo;</a></li>
  {% for page in page_range %}
  	<li><a href="?page={{ page }}">{{ page }}</a></li>
  {% endfor%}
  <li><a href="?page=1">&raquo;</a></li>
</ul>
{% endblock %}